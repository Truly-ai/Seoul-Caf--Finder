<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find a Caf√© in Seoul!</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" href="download__2_-removebg-preview.png" type="image/png">
    
</head>
<body>
    <nav class="glass-nav">
  <button class="nav-btn" id="add-cafe-btn" title="Add a Caf√©">+</button>
  <button class="nav-btn" id="map-btn" title="Open Map">üìç</button>
</nav>
  <br/>
    <h1>Find Your Favorite Caf√©<br/>
    In Seoul!‚òï</h1>
  
<form id="cafe-search-form">
    <input 
        type="text" 
        id="location" 
        name="location" 
        placeholder="Type a location or caf√©...." 
        required    
    >
    <button type="submit"><b>Find</b></button>
</form>

<div class="top-cafes">
    <h2>Top Picks</h2>
    <div class="cafe-cards">
        <div class="cafe-card">
            <img src="onion.jpeg" alt="Caf√© Onion Anguk" class="cafe-img">
            <h3>Caf√© Onion Anguk</h3>
            <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚òÜ (4.2)</p>
            <p><b><i>Cozy atmosphere, great pastries.</i></b></p>
            <p>üìç 5 Gyedong-gil, Jongno District, Seoul</p>
            
        </div> 
        <div class="cafe-card">
            <img src="layered.jpeg" alt="Caf√© Layered" class="cafe-img">
            <h3>Caf√© Layered</h3>
            <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è (5.0)</p>
            <p><i><b>Specialty coffee and friendly staff.</i></b></p>
            <p>üìç 35-6 Itaewon-ro 27ga-gil, Yongsan District, Seoul</p>
        </div>
        <div class="cafe-card">
            <img src="starbucks.jpeg" alt="Caf√© Starbucks" class="cafe-img">
            <h3>Starbucks Seoul</h3>
            <p>‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚òÜ (3.9)</p>
            <p><b><i>Modern vibe, delicious brunch.</i></b></p>
            <p>üìç Seocho District, Seoul</p>
        </div>
    </div>
</div>

<!-- ...existing code... -->
<div id="cafe-modal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <img id="modal-img" src="" alt="" class="cafe-img" style="width:100%;height:180px;object-fit:cover;border-radius:10px;">
    <h3 id="modal-title"></h3>
    <p id="modal-rating"></p>
    <p id="modal-desc"></p>
    <p id="modal-address"></p>
    <hr>
    <div>
      <label for="user-rating">Your Rating:</label>
      <select id="user-rating">
        <option value="5">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</option>
        <option value="4">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</option>
        <option value="3">‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è</option>
        <option value="2">‚≠êÔ∏è‚≠êÔ∏è</option>
        <option value="1">‚≠êÔ∏è</option>
      </select>
    </div>
    <div style="margin-top:1em;">
      <label for="user-review">Your Review:</label><br>
      <textarea id="user-review" rows="3" style="width:100%;border-radius:8px;padding:0.5em;"></textarea>
      <button id="submit-review" style="margin-top:0.5em;">Submit Review</button>
    </div>
    <div style="margin-top:1em;">
      <button id="view-map">See on Map</button>
    </div>
  </div>
</div>

<div id="add-cafe-modal" class="modal">
  <div class="modal-content">
    <span class="close-btn" id="close-add-cafe">&times;</span>
    <input type="file" id="add-cafe-img" accept="image/*" style="width:100%;margin-bottom:1em;">
    <img id="preview-img" src="" alt="" class="cafe-img" style="display:none;width:100%;height:120px;object-fit:cover;border-radius:10px;margin-bottom:1em;">
    <input type="text" id="add-cafe-title" placeholder="Caf√© Name" style="width:100%;margin-bottom:1em;padding:0.5em;border-radius:8px;">
    <input type="text" id="add-cafe-rating" placeholder="Rating (e.g. 4.5)" style="width:100%;margin-bottom:1em;padding:0.5em;border-radius:8px;">
    <textarea id="add-cafe-desc" placeholder="Description" rows="2" style="width:100%;margin-bottom:1em;padding:0.5em;border-radius:8px;"></textarea>
    <input type="text" id="add-cafe-location" placeholder="Location" style="width:100%;margin-bottom:1em;padding:0.5em;border-radius:8px;">
    <button id="save-cafe" style="width:100%;margin-top:1em;">Save Caf√©</button>
  </div>
</div>



<script>
document.addEventListener("DOMContentLoaded", function() {
    const cards = document.querySelectorAll('.cafe-card');
    cards.forEach((card, i) => {
        setTimeout(() => {
            card.classList.add('visible');
        }, 1000 * i);
    });

    // Modal logic
    const modal = document.getElementById('cafe-modal');
    const closeBtn = modal.querySelector('.close-btn');
    const modalImg = document.getElementById('modal-img');
    const modalTitle = document.getElementById('modal-title');
    const modalRating = document.getElementById('modal-rating');
    const modalDesc = document.getElementById('modal-desc');
    const modalAddress = document.getElementById('modal-address');
    const viewMapBtn = document.getElementById('view-map');

    // Caf√© data for modal
    const cafes = [
        {
            img: "onion.jpeg",
            title: "Caf√© Onion Anguk",
            rating: "‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚òÜ (4.2)",
            desc: "Cozy atmosphere, great pastries.",
            address: "5 Gyedong-gil, Jongno District, Seoul",
            map: "https://maps.google.com/?q=5+Gyedong-gil,+Jongno+District,+Seoul"
        },
        {
            img: "layered.jpeg",
            title: "Caf√© Layered",
            rating: "‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è (5.0)",
            desc: "Specialty coffee and friendly staff.",
            address: "35-6 Itaewon-ro 27ga-gil, Yongsan District, Seoul",
            map: "https://maps.google.com/?q=35-6+Itaewon-ro+27ga-gil,+Yongsan+District,+Seoul"
        },
        {
            img: "starbucks.jpeg",
            title: "Starbucks Seoul",
            rating: "‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚≠êÔ∏è‚òÜ (3.9)",
            desc: "Modern vibe, delicious brunch.",
            address: "Seocho District, Seoul",
            map: "https://maps.google.com/?q=Seocho+District,+Seoul"
        }
    ];

    cards.forEach((card, i) => {
        card.addEventListener('click', function() {
            modalImg.src = cafes[i].img;
            modalTitle.textContent = cafes[i].title;
            modalRating.textContent = cafes[i].rating;
            modalDesc.textContent = cafes[i].desc;
            modalAddress.textContent = cafes[i].address;
            viewMapBtn.onclick = () => window.open(cafes[i].map, '_blank');
            modal.classList.add('show');
            document.body.classList.add('modal-open');
        });
    });

    closeBtn.onclick = function() {
        modal.classList.remove('show');
        document.body.classList.remove('modal-open');
    };

    // Optional: close modal on outside click
    modal.onclick = function(e) {
        if (e.target === modal) {
            modal.classList.remove('show');
            document.body.classList.remove('modal-open');
        }
    };

    // Review submit (demo only)
    
document.getElementById('submit-review').onclick = function() {
        alert("Thank you for your review!");
        document.getElementById('user-review').value = "";
        document.getElementById('user-rating').selectedIndex = 0;
    };
});

document.getElementById('cafe-search-form').addEventListener('submit', function(e) {
    e.preventDefault();
    const query = document.getElementById('location').value.trim();
    if (query) {
        // Redirect to a results page, passing the search query as a URL parameter
        window.location.href = `result.html?search=${encodeURIComponent(query)}`;
    }
});

document.getElementById('add-cafe-btn').onclick = function() {
    // Reset fields
    document.getElementById('add-cafe-img').value = "";
    document.getElementById('preview-img').src = "";
    document.getElementById('preview-img').style.display = "none";
    document.getElementById('add-cafe-title').value = "";
    document.getElementById('add-cafe-rating').value = "";
    document.getElementById('add-cafe-desc').value = "";
    document.getElementById('add-cafe-location').value = "";
    document.getElementById('add-cafe-modal').classList.add('show');
    document.body.classList.add('modal-open');
};

// Preview image when selected
document.getElementById('add-cafe-img').onchange = function(e) {
    const file = e.target.files[0];
    if (file) {
        const reader = new FileReader();
        reader.onload = function(ev) {
            document.getElementById('preview-img').src = ev.target.result;
            document.getElementById('preview-img').style.display = "block";
        };
        reader.readAsDataURL(file);
    }
};

// Close modal
document.getElementById('close-add-cafe').onclick = function() {
    document.getElementById('add-cafe-modal').classList.remove('show');
    document.body.classList.remove('modal-open');
};

// Save caf√© (demo: just close modal)
document.getElementById('save-cafe').onclick = function() {
    alert("Caf√© added! (Demo only)");
    document.getElementById('add-cafe-modal').classList.remove('show');
    document.body.classList.remove('modal-open');
};
</script>
</body>
</html>